<!DOCTYPE html>
<html>
<head>
<title>ES6特性概述 - JavaScript编程语言</title>
<meta charset="UTF-8">
<meta name="baidu-site-verification" content="LPyqUhB1p3" />
<meta name="viewport" content="width=device-width">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="description" content="JavaScript编程语言 - 一本开源的JavaScript编程指南; An open-sourced Javascript Guide and Tutorial; ES6特性概述 ES6比较ES5新特性更多。新加入的特性大致氛围三类：  扩展已有的原生对象API Object上的新方法 String上的新方法 Math上的新方法 …   全新的数据结构 WeakMap Set …   语法特性：新表达式、语法糖等 arrow function const let rest parameters, default parameters spread call,">
<meta name="keywords" content="Javascript, guide, open-sourced ">
<link rel="stylesheet" type="text/css" href="/style.css" />
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-313435-11', 'robinqu.me');
  ga('send', 'pageview');

</script>
</head>
<body>
<header class="clearfix">
  <div class="left back-toc">
    <ul class="inline-list">
      <li><a href="/">目录</a></li>
      
        <li class="seperator">></li>
        <li>JavaScript核心</li>
      
        <li class="seperator">></li>
        <li>ECMAScript特性</li>
      
        <li class="seperator">></li>
        <li>ECMAScript6</li>
      
      
      <li class="seperator">></li>
      <li class="current"><strong>当前页面</strong></li>
      
      <li>(<a href="https://github.com/RobinQu/Programing-In-Javascript/edit/master/chapters/JavaScript_Core/ECMAScript/es6/es6_api_extension.md">编辑</a>)</li>
    </ul>
  </div>
  <div class="right">
    <a href="/"><img src="/images/logo.png" alt="Javascript编程语言" width="256" height="50" /></a>
  </div>
</header>
<div class="primary">
  <h1 id="es6-">ES6特性概述</h1>
<p>ES6比较ES5新特性更多。新加入的特性大致氛围三类：</p>
<ul>
<li>扩展已有的原生对象API<ul>
<li>Object上的新方法</li>
<li>String上的新方法</li>
<li>Math上的新方法</li>
<li>…</li>
</ul>
</li>
<li>全新的数据结构<ul>
<li>WeakMap</li>
<li>Set</li>
<li>…</li>
</ul>
</li>
<li>语法特性：新表达式、语法糖等<ul>
<li>arrow function</li>
<li>const</li>
<li>let</li>
<li>rest parameters, default parameters</li>
<li>spread call, spread array</li>
<li>class</li>
<li>computed properties</li>
<li>Modules</li>
<li>for-of loop</li>
<li>Array comprehensions</li>
<li>Generator</li>
<li>Iterator</li>
<li>Block-level function</li>
<li>Destructuring</li>
</ul>
</li>
</ul>
<p>由于新的语法特性非常复杂，本篇只描述部分ES6中新加入的API。之后后分篇描述目前已经比较成熟的语法特性（例如Generator和Iterator）。</p>
<h2 id="string">String</h2>
<h3 id="string-fromcodepoint-n1-n2-n3-">String.fromCodePoint(n1,n2,n3,…)</h3>
<p>从UTF16代码转换字符。这里笔者也不太清楚，应该和UTF编码有关<sup id="fnref1"><a href="#fn1">1</a></sup>。</p>
<h3 id="string-prototype-codepointat">String.prototype.codePointAt</h3>
<p>从字符串的字符上取CodePoint。</p>
<h3 id="string-prototype-repeat">String.prototype.repeat</h3>
<pre><code>&quot;abc&quot;.repeat(2) // &quot;abcabc&quot;
</code></pre><h3 id="string-prototype-startswith-a-p-2-">String.prototype.startsWith(a,p)<sup id="fnref2"><a href="#fn2">2</a></sup></h3>
<p>判断字符串是否以<code>a</code>开头；检索的起始位置<code>p</code>是可选的。</p>
<h3 id="string-prototype-endwith-a-p-3-">String.prototype.endWith(a,p)<sup id="fnref3"><a href="#fn3">3</a></sup></h3>
<p>判断字符串是否以<code>a</code>结尾；检索的起始位置<code>p</code>是可选的。</p>
<h3 id="string-prototype-contains-a-p-4-">String.prototype.contains(a,p)<sup id="fnref4"><a href="#fn4">4</a></sup></h3>
<p>判断字符串是否包含子串<code>a</code>；检索的起始位置<code>p</code>是可选的。</p>
<h2 id="array">Array</h2>
<h3 id="array-from-arraylike-map-thisarg-5-">Array.from(arrayLike,map,thisArg)<sup id="fnref5"><a href="#fn5">5</a></sup></h3>
<p>根据类数组对象<code>arrayLike</code>创建数组；一个可选的<code>map</code>方法和其上下文对象<code>thisArg</code>。</p>
<h3 id="array-of-items-6-">Array.of(…items)<sup id="fnref6"><a href="#fn6">6</a></sup></h3>
<p>从给定参数创建数组。</p>
<h3 id="array-prototype-find-cb-thisarg-7-">Array.prototype.find(cb,thisArg)<sup id="fnref7"><a href="#fn7">7</a></sup></h3>
<p>寻找通过指定函数<code>cb</code>测试的第一个元素。</p>
<h3 id="array-prototype-findindex-cb-thisarg-">Array.prototype.findIndex(cb,thisArg)</h3>
<p>同上，但返回该元素的索引号。</p>
<h3 id="array-prototype-fill-v-s-e-8-">Array.prototype.fill(v,s,e)<sup id="fnref8"><a href="#fn8">8</a></sup></h3>
<p>在数组索引<code>s</code>和<code>e</code>之间添入多个元素<code>v</code>。</p>
<h2 id="object">Object</h2>
<h3 id="object-getownpropertydescriptors-o-p-9-">Object.getOwnPropertyDescriptors(o,p)<sup id="fnref9"><a href="#fn9">9</a></sup></h3>
<p>获取对象<code>o</code>上属性<code>p</code>的特性描述对象。在搜寻属性时，不在原型链上搜索。</p>
<h3 id="object-getpropertydescriptor-o-p-10-">Object.getPropertyDescriptor(o,p)<sup id="fnref10"><a href="#fn10">10</a></sup></h3>
<p>获取对象<code>o</code>上属性<code>p</code>的特性描述对象。</p>
<h3 id="object-getownpropertynames-o-">Object.getOwnPropertyNames(o)</h3>
<p>获取对象自身上可枚举和不可枚举的键名数组。注意，该方法会返回那些enumerable属性已经设置为false的propety。</p>
<h3 id="object-is-a-b-11-">Object.is(a, b)<sup id="fnref11"><a href="#fn11">11</a></sup></h3>
<p>检测两个给定对象的值是否相同。该方法不会进行如同<code>==</code>操作符那样去进行数值转换。与<code>===</code>也有细微差别。仅当符合下面任意条件才返回<code>true</code>：</p>
<ol>
<li>都是<code>undefined</code></li>
<li>都是<code>null</code></li>
<li>都是<code>true</code>或<code>false</code></li>
<li>都是等长、内容相同的字符串</li>
<li>都是同一个对象</li>
<li>都是<code>number</code>，并且满足以下任一条件：<ol>
<li>都是<code>+0</code></li>
<li>都是<code>-0</code></li>
<li>都是<code>NaN</code></li>
<li>都是非零、非<code>NaN</code>，并且数值一样</li>
</ol>
</li>
</ol>
<h3 id="object-setprototypeof-o-proto-">Object.setPrototypeOf(o, proto)</h3>
<p>将对象<code>o</code>的原型修改为<code>proto</code>。和对象的<code>__proto__</code>属性行为一致。修改单个对象的<code>prototype</code>一般是不被推荐的。</p>
<h3 id="object-assign-target-source1-source2-">Object.assign(target, source1, source2, …)</h3>
<p>类似underscore和lodash的<code>_.extend</code>。将多个对象的值合并到一个对象。</p>
<h2 id="number">Number</h2>
<p>数字和算数的API复杂而且不常用，但是却必备。</p>
<h3 id="number-isfinite-v-">Number.isFinite(v)</h3>
<p>判断数字是否为有穷。判断过程不尝试将参数转换为<code>number</code>。</p>
<pre><code>Number.isFinite(Infinity);  // false
Number.isFinite(NaN);       // false
Number.isFinite(-Infinity); // false

Number.isFinite(0);         // true
Number.isFinite(2e64);      // true
</code></pre><h3 id="number-isinteger-v-">Number.isInteger(v)</h3>
<p>判断是否为正整数。</p>
<h3 id="number-isnan-v-">Number.isNaN(v)</h3>
<p>不将参数强制转行为<code>number</code>。判断是否确实为<code>NaN</code>。</p>
<h3 id="number-issafeinteger-12-">Number.isSafeInteger()<sup id="fnref12"><a href="#fn12">12</a></sup></h3>
<p>判断是否为在<code>MAX_SAFE_INTEGER</code>范围内的正整数。这里说明一下，<code>NUMBER.MAX_SAFE_INTEGER</code>是<code>2^53-1</code>。<code>NUMBER.MAX_VALUE</code>是<code>1.7976931348623157 × 10308</code>，这是IEE754中定义的double的最大值［^13］。</p>
<h3 id="number-epsilon-14-">Number.EPSILON<sup id="fnref14"><a href="#fn14">14</a></sup></h3>
<p>一个常量，代表正整数1与大于1的最小值之差。大约为： <code>2.2204460492503130808472633361816 x 10‍^16</code>。</p>
<h2 id="math">Math</h2>
<h3 id="math-clz32-v-">Math.clz32(v)</h3>
<p><code>CountLeadingZeroes32</code>。计算一个数字在32位无符号位整形数字的二进制形式开头有多少个<code>0</code>。</p>
<h3 id="math-imul-v-">Math.imul(v)</h3>
<p>以32位正数的乘法方式来计算给定参数。该方法的一种可能的JavaScript实现：</p>
<pre><code>function imul(a, b) {
  var ah  = (a &gt;&gt;&gt; 16) &amp; 0xffff;
  var al = a &amp; 0xffff;
  var bh  = (b &gt;&gt;&gt; 16) &amp; 0xffff;
  var bl = b &amp; 0xffff;
  // the shift by 0 fixes the sign on the high part
  // the final |0 converts the unsigned value into a signed value
  return ((al * bl) + (((ah * bl + al * bh) &lt;&lt; 16) &gt;&gt;&gt; 0)|0);
}
</code></pre><h3 id="math-sign-v-">Math.sign(v)</h3>
<p>判断一个数的符号位</p>
<pre><code>Math.sign(3)     //  1
Math.sign(-3)    // -1
Math.sign(&quot;-3&quot;)  // -1
Math.sign(0)     //  0
Math.sign(-0)    // -0
Math.sign(NaN)   // NaN
Math.sign(&quot;foo&quot;) // NaN
Math.sign()      // NaN
</code></pre><h3 id="math-log10-x-">Math.log10(x)</h3>
<p>lg(x)</p>
<h3 id="math-log2-x-">Math.log2(x)</h3>
<p>log2(x)</p>
<h3 id="math-log1p-x-">Math.log1p(x)</h3>
<p>ln(1+x)</p>
<h3 id="math-expm1-x-">Math.expm1(x)</h3>
<p>e^x-1</p>
<h3 id="math-cosh-x-">Math.cosh(x)</h3>
<h3 id="math-sinh-x-">Math.sinh(x)</h3>
<h3 id="math-tanh-x-">Math.tanh(x)</h3>
<h3 id="math-acosh-x-">Math.acosh(x)</h3>
<h3 id="math-asinh-x-">Math.asinh(x)</h3>
<h3 id="math-atanh-x-">Math.atanh(x)</h3>
<h3 id="math-hypot-v1-v2-v3-">Math.hypot(v1,v2,v3….)</h3>
<p>计算给定参数的平方平均数</p>
<h3 id="math-trunc-v-">Math.trunc(v)</h3>
<pre><code>function trunc(x) {
  return x &lt; 0 ? Math.ceil(x) : Math.floor(x);
}
</code></pre><h3 id="math-fround-v-">Math.fround(v)</h3>
<p>返回数值的最接近的单精度浮点。</p>
<h3 id="math-cbrt-x-">Math.cbrt(x)</h3>
<p>求x的立方根</p>
<h2 id="-es-">关于ES及其他</h2>
<p>ES标准<sup id="fnref14"><a href="#fn14">14</a></sup>在快速发展之中，部分讨论<sup id="fnref15"><a href="#fn15">15</a></sup>都已经扩展到ES8的规划之内。就像W3C的新版标准一样，他们的出现往往被开发者轻视。前段开发者以兼容性、实用性为借口选择性忽略，但是不知不觉中，这些开发者已经成为了守旧者，那些曾经被视为华而不实的Canvas、ApplicationStorage、Websocket等技术，如今已是大量在线应用的基础设施。</p>
<p>ES6标准中部分已经被广泛应用到node应用的开发之中，也许不久的未来，nodejs的开发者所写的JavaScript已经和浏览器端开发者使用的JavaScript是两种不同的语言了。</p>
<p>ES6不少API层面的特性可以通过shim<sup id="fnref16"><a href="#fn16">16</a></sup>进行兼容性支持。部分语法特性，通过二次编译<sup id="fnref17"><a href="#fn17">17</a></sup>，可以支持。所以，已经不是找理由不了解ECMAScript的时候了。</p>
<hr>
<div class="footnotes">
<ol>
<li id="fn1"><p><a href="http://stackoverflow.com/questions/3744721/javascript-strings-outside-of-the-bmp">http://stackoverflow.com/questions/3744721/javascript-strings-outside-of-the-bmp</a></p>
<a href="#fnref1" class="footnoteBackLink" title="Jump back to footnote 1 in the text.">↩</a></li>
<li id="fn2"><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith</a></p>
<a href="#fnref2" class="footnoteBackLink" title="Jump back to footnote 2 in the text.">↩</a></li>
<li id="fn3"><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/endsWith">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/endsWith</a></p>
<a href="#fnref3" class="footnoteBackLink" title="Jump back to footnote 3 in the text.">↩</a></li>
<li id="fn4"><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/contains">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/contains</a></p>
<a href="#fnref4" class="footnoteBackLink" title="Jump back to footnote 4 in the text.">↩</a></li>
<li id="fn5"><p><a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-22.1.2.1">http://people.mozilla.org/~jorendorff/es6-draft.html#sec-22.1.2.1</a></p>
<a href="#fnref5" class="footnoteBackLink" title="Jump back to footnote 5 in the text.">↩</a></li>
<li id="fn6"><p><a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-22.1.2.1">http://people.mozilla.org/~jorendorff/es6-draft.html#sec-22.1.2.1</a></p>
<a href="#fnref6" class="footnoteBackLink" title="Jump back to footnote 6 in the text.">↩</a></li>
<li id="fn7"><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/find">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/find</a></p>
<a href="#fnref7" class="footnoteBackLink" title="Jump back to footnote 7 in the text.">↩</a></li>
<li id="fn8"><p><a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-22.1.3.6">http://people.mozilla.org/~jorendorff/es6-draft.html#sec-22.1.3.6</a></p>
<a href="#fnref8" class="footnoteBackLink" title="Jump back to footnote 8 in the text.">↩</a></li>
<li id="fn9"><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptor">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptor</a></p>
<a href="#fnref9" class="footnoteBackLink" title="Jump back to footnote 9 in the text.">↩</a></li>
<li id="fn10"><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptor">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptor</a></p>
<a href="#fnref10" class="footnoteBackLink" title="Jump back to footnote 10 in the text.">↩</a></li>
<li id="fn11"><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is</a></p>
<a href="#fnref11" class="footnoteBackLink" title="Jump back to footnote 11 in the text.">↩</a></li>
<li id="fn12"><p><a href="https://people.mozilla.org/~jorendorff/es6-draft.html#sec-number.issafeinteger">https://people.mozilla.org/~jorendorff/es6-draft.html#sec-number.issafeinteger</a></p>
<a href="#fnref12" class="footnoteBackLink" title="Jump back to footnote 12 in the text.">↩</a></li>
<li id="fn13"><p><a href="http://en.wikipedia.org/wiki/Double-precision_floating-point_format">http://en.wikipedia.org/wiki/Double-precision_floating-point_format</a><br><sup id="fnref14"><a href="#fn14">14</a></sup>: * <a href="http://wiki.ecmascript.org/doku.php?id=harmony:specification_drafts">http://wiki.ecmascript.org/doku.php?id=harmony:specification_drafts</a></p>
<a href="#fnref13" class="footnoteBackLink" title="Jump back to footnote 13 in the text.">↩</a></li>
<li id="fn15"><p><a href="http://esdiscuss.org/topic/es6-es7-es8-and-beyond-a-proposed-roadmap">http://esdiscuss.org/topic/es6-es7-es8-and-beyond-a-proposed-roadmap</a></p>
<a href="#fnref15" class="footnoteBackLink" title="Jump back to footnote 15 in the text.">↩</a></li>
<li id="fn16"><p><a href="https://github.com/paulmillr/es6-shim/">https://github.com/paulmillr/es6-shim/</a></p>
<a href="#fnref16" class="footnoteBackLink" title="Jump back to footnote 16 in the text.">↩</a></li>
<li id="fn17"><p><a href="https://github.com/addyosmani/es6-tools">https://github.com/addyosmani/es6-tools</a></p>
<a href="#fnref17" class="footnoteBackLink" title="Jump back to footnote 17 in the text.">↩</a></li>
</ol>
</div>

</div>
<footer class="misc clearfix">
  <p class="hint">建议在新版的Chrome、Safari、Firefox中阅读</p>
  <div class="left">
    <ul class="inline-list">
      <li><a href="https://github.com/RobinQu/Programing-In-Javascript/">Source</a></li>
      <li><a href="https://github.com/RobinQu/Programing-In-Javascript/blob/master/README.md">Contributors</a></li>
      <li><a href="https://github.com/RobinQu/Programing-In-Javascript/issues">Issues</a></li>
    </ul>
  </div>
  <div class="right">
    <ul class="inline-list">
      <li>Rev <a href="https://github.com/RobinQu/Programing-In-Javascript/tree/cd05d3d/chapters/JavaScript_Core/ECMAScript/es6/es6_api_extension.md">cd05d3d</a></li>
      <li>2014-05-29T06:40:37.982Z</li>
    </ul>
  </div>
</footer>
</body>
</html>